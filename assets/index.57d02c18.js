const ot=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}};ot();function X(){}function lt(t){return t&&typeof t=="object"&&typeof t.then=="function"}function Je(t){return t()}function Ue(){return Object.create(null)}function de(t){t.forEach(Je)}function st(t){return typeof t=="function"}function Ce(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function at(t){return Object.keys(t).length===0}function T(t,e){t.appendChild(e)}function S(t,e,n){t.insertBefore(e,n||null)}function b(t){t.parentNode.removeChild(t)}function ft(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function G(t){return document.createElement(t)}function I(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function B(t){return document.createTextNode(t)}function V(){return B(" ")}function Ee(){return B("")}function fe(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function s(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ut(t){return Array.from(t.childNodes)}function ie(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Be(t,e){t.value=e==null?"":e}function Ne(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}let ge;function re(t){ge=t}function ct(){if(!ge)throw new Error("Function called outside component initialization");return ge}const pe=[],Fe=[],_e=[],We=[],dt=Promise.resolve();let ke=!1;function Ct(){ke||(ke=!0,dt.then(Oe))}function Ae(t){_e.push(t)}const xe=new Set;let ve=0;function Oe(){const t=ge;do{for(;ve<pe.length;){const e=pe[ve];ve++,re(e),mt(e.$$)}for(re(null),pe.length=0,ve=0;Fe.length;)Fe.pop()();for(let e=0;e<_e.length;e+=1){const n=_e[e];xe.has(n)||(xe.add(n),n())}_e.length=0}while(pe.length);for(;We.length;)We.pop()();ke=!1,xe.clear(),re(t)}function mt(t){if(t.fragment!==null){t.update(),de(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ae)}}const be=new Set;let le;function Qe(){le={r:0,c:[],p:le}}function et(){le.r||de(le.c),le=le.p}function H(t,e){t&&t.i&&(be.delete(t),t.i(e))}function te(t,e,n,r){if(t&&t.o){if(be.has(t))return;be.add(t),le.c.push(()=>{be.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function je(t,e){const n=e.token={};function r(i,o,a,f){if(e.token!==n)return;e.resolved=f;let m=e.ctx;a!==void 0&&(m=m.slice(),m[a]=f);const C=i&&(e.current=i)(m);let y=!1;e.block&&(e.blocks?e.blocks.forEach((L,h)=>{h!==o&&L&&(Qe(),te(L,1,1,()=>{e.blocks[h]===L&&(e.blocks[h]=null)}),et())}):e.block.d(1),C.c(),H(C,1),C.m(e.mount(),e.anchor),y=!0),e.block=C,e.blocks&&(e.blocks[o]=C),y&&Oe()}if(lt(t)){const i=ct();if(t.then(o=>{re(i),r(e.then,1,e.value,o),re(null)},o=>{if(re(i),r(e.catch,2,e.error,o),re(null),!e.hasCatch)throw o}),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}}function ht(t,e,n){const r=e.slice(),{resolved:i}=t;t.current===t.then&&(r[t.value]=i),t.current===t.catch&&(r[t.error]=i),t.block.p(r,n)}const pt=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function ce(t){t&&t.c()}function se(t,e,n,r){const{fragment:i,on_mount:o,on_destroy:a,after_update:f}=t.$$;i&&i.m(e,n),r||Ae(()=>{const m=o.map(Je).filter(st);a?a.push(...m):de(m),t.$$.on_mount=[]}),f.forEach(Ae)}function ae(t,e){const n=t.$$;n.fragment!==null&&(de(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function gt(t,e){t.$$.dirty[0]===-1&&(pe.push(t),Ct(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function me(t,e,n,r,i,o,a,f=[-1]){const m=ge;re(t);const C=t.$$={fragment:null,ctx:null,props:o,update:X,not_equal:i,bound:Ue(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(m?m.$$.context:[])),callbacks:Ue(),dirty:f,skip_bound:!1,root:e.target||m.$$.root};a&&a(C.root);let y=!1;if(C.ctx=n?n(t,e.props||{},(L,h,...M)=>{const g=M.length?M[0]:h;return C.ctx&&i(C.ctx[L],C.ctx[L]=g)&&(!C.skip_bound&&C.bound[L]&&C.bound[L](g),y&&gt(t,L)),h}):[],C.update(),y=!0,de(C.before_update),C.fragment=r?r(C.ctx):!1,e.target){if(e.hydrate){const L=ut(e.target);C.fragment&&C.fragment.l(L),L.forEach(b)}else C.fragment&&C.fragment.c();e.intro&&H(t.$$.fragment),se(t,e.target,e.anchor,e.customElement),Oe()}re(m)}class he{$destroy(){ae(this,1),this.$destroy=X}$on(e,n){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!at(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function wt(t){let e;return{c(){e=I("rect"),s(e,"x","0"),s(e,"y","0"),s(e,"width","1100"),s(e,"height","250"),s(e,"fill",t[0])},m(n,r){S(n,e,r)},p(n,[r]){r&1&&s(e,"fill",n[0])},i:X,o:X,d(n){n&&b(e)}}}function vt(t,e,n){let{lineColor:r="#ff00ff"}=e;return t.$$set=i=>{"lineColor"in i&&n(0,r=i.lineColor)},[r]}class tt extends he{constructor(e){super(),me(this,e,vt,wt,Ce,{lineColor:0})}}function Ze(t){let e;return{c(){e=I("path"),s(e,"fill","white"),s(e,"transform","translate(950, 62.5) scale(12.5)"),s(e,"d","M 5.00021 0 C 3.67405 -5.61417e-05 2.4022 0.526732 1.46446 1.46446 C 0.526732 2.4022 -5.61417e-05 3.67405 0 5.00021 C 0.000168624 7.76159 2.23882 10 5.00021 9.99989 C 7.76139 9.99973 9.99973 7.76139 9.99989 5.00021 C 10 2.23882 7.76159 0.000168624 5.00021 0 Z M 1.91668 1.90634 C 1.91849 1.90663 1.91986 1.90713 1.92081 1.90841 C 1.92844 1.91859 2.03594 2.15384 2.15956 2.43137 C 2.28317 2.7089 2.45707 3.09279 2.54609 3.28403 C 2.66159 3.53213 2.70808 3.68883 2.70836 3.83077 C 2.70885 4.12479 3.00256 4.61195 3.13107 4.53253 C 3.21759 4.47906 3.59436 3.62785 3.64732 3.3662 C 3.70393 3.08648 3.7552 3.03296 3.82767 3.1781 C 3.9627 3.44856 4.01976 3.54242 4.0814 3.59357 C 4.16929 3.66651 5.72918 3.68363 5.86889 3.61321 C 5.95671 3.56894 6.1332 3.31289 6.18463 3.15536 C 6.22943 3.01814 6.3006 3.10685 6.35309 3.3662 C 6.40605 3.62785 6.7823 4.47906 6.86882 4.53253 C 6.99733 4.61195 7.29095 4.1248 7.29154 3.83077 C 7.29183 3.68883 7.33832 3.53213 7.4538 3.28403 C 7.54283 3.09279 7.71672 2.7089 7.84034 2.43137 C 7.96395 2.15384 8.07145 1.9186 8.07908 1.90841 C 8.08673 1.89822 8.12353 1.92083 8.16125 1.95853 C 8.28238 2.07966 8.2411 2.27115 7.9995 2.70474 C 7.98018 2.73943 7.9532 2.79614 7.94007 2.83083 C 7.92696 2.86552 7.89955 2.92631 7.87858 2.96571 C 7.81517 3.08487 7.91071 3.09473 7.99382 2.97759 C 8.33302 2.49939 8.52905 2.24645 8.56277 2.2443 C 8.57956 2.24321 8.62418 2.28942 8.66199 2.34714 C 8.75753 2.49294 8.70932 2.70929 8.54107 2.88819 C 8.30801 3.13604 8.13397 3.36902 8.09045 3.49126 C 8.04848 3.60911 8.0484 3.60895 8.14471 3.49332 C 8.19767 3.42972 8.25313 3.37757 8.2677 3.37757 C 8.28225 3.37757 8.44005 3.2358 8.61807 3.06234 C 8.7961 2.88889 8.94823 2.74712 8.95655 2.74712 C 8.98357 2.74712 9.10021 2.99375 9.10021 3.05097 C 9.10021 3.08158 8.92421 3.24201 8.70953 3.40806 C 8.29273 3.73046 8.10414 3.90957 8.14161 3.94704 C 8.15433 3.95978 8.22852 3.93208 8.30646 3.88503 C 8.3844 3.83798 8.48603 3.78239 8.53229 3.76152 C 8.57853 3.74066 8.76146 3.6375 8.93846 3.5326 C 9.23994 3.35392 9.26168 3.3471 9.28263 3.42718 C 9.32926 3.60551 9.17364 3.77919 8.77568 3.99355 C 8.55449 4.1127 8.42738 4.19699 8.42738 4.22351 C 8.42738 4.28717 8.56397 4.29828 8.62272 4.23953 C 8.65734 4.2049 8.71813 4.17648 8.75811 4.17648 C 8.79809 4.17648 8.84879 4.15934 8.87077 4.13824 C 8.94631 4.0657 9.43551 3.88841 9.45833 3.92534 C 9.53044 4.04201 9.29058 4.42762 9.14465 4.4297 C 9.10849 4.43019 9.03194 4.46767 8.97412 4.5129 C 8.9163 4.55812 8.84931 4.59558 8.82529 4.5961 C 8.73902 4.59794 8.47306 4.7554 8.50231 4.7873 C 8.51875 4.80523 8.49047 4.80971 8.43927 4.79712 C 8.38513 4.7838 8.32549 4.79904 8.29664 4.83381 C 8.22707 4.91763 8.27616 4.94994 8.38501 4.89168 C 8.43528 4.86479 8.52704 4.83345 8.58861 4.82244 C 8.65019 4.81143 8.74046 4.77659 8.78912 4.74492 C 8.83779 4.71326 8.94689 4.67449 9.03148 4.65862 C 9.11606 4.64276 9.19583 4.61233 9.20873 4.59145 C 9.22164 4.57056 9.24862 4.56425 9.26919 4.57698 C 9.2898 4.5897 9.34448 4.57634 9.39063 4.54752 C 9.50655 4.47513 9.52591 4.51201 9.46918 4.69686 C 9.41365 4.87778 9.2898 4.97888 9.00822 5.0741 C 8.8999 5.11074 8.71167 5.18912 8.59016 5.24773 C 8.46866 5.30635 8.35275 5.35419 8.3323 5.35419 C 8.31183 5.35419 8.26863 5.38065 8.23618 5.4131 C 8.14428 5.505 8.25413 5.52446 8.45012 5.45082 C 8.54154 5.41648 8.65449 5.38389 8.70075 5.37848 C 8.74699 5.37306 8.81282 5.35741 8.84751 5.34385 C 9.12532 5.23529 9.33084 5.19001 9.36944 5.22861 C 9.42042 5.27959 9.2888 5.55034 9.18651 5.60482 C 9.06338 5.6704 8.58149 5.81669 8.48836 5.81669 C 8.43719 5.81669 8.37319 5.84356 8.34573 5.87664 C 8.26201 5.97751 8.42607 6.03427 8.66664 5.98774 C 9.08303 5.90721 9.18736 5.90291 9.2108 5.96397 C 9.24258 6.04675 9.10324 6.22274 8.94466 6.29987 C 8.86271 6.33972 8.62894 6.3751 8.34522 6.39133 C 8.0895 6.40596 7.88065 6.42963 7.88065 6.44353 C 7.88065 6.45743 8.07456 6.50453 8.31163 6.54843 C 8.54869 6.59233 8.75672 6.63613 8.77413 6.64558 C 8.83205 6.67702 8.72079 6.82421 8.58655 6.89363 C 8.48591 6.94566 8.40287 6.95448 8.24083 6.93083 C 7.93223 6.8858 7.78005 6.87604 7.7406 6.8988 C 7.70022 6.92209 7.9058 7.03625 7.98813 7.03625 C 8.07264 7.03625 8.10419 7.11623 8.04704 7.18508 C 7.98205 7.26339 7.85337 7.26291 7.62692 7.18302 C 7.42161 7.11058 7.37393 7.12779 7.47395 7.23831 C 7.52737 7.29734 7.53155 7.32592 7.49307 7.3644 C 7.41585 7.44162 7.33809 7.42507 7.17165 7.29464 C 7.08737 7.22859 6.93845 7.12442 6.8404 7.06313 C 6.66213 6.95169 6.66184 6.95129 6.39857 7.13961 C 5.92107 7.48116 5.95425 7.44512 6.0513 7.52253 C 6.09754 7.55942 6.22353 7.63461 6.33139 7.68996 C 6.48856 7.77062 6.5234 7.80768 6.50554 7.876 C 6.47698 7.98511 6.45123 7.98304 6.22338 7.85584 C 5.92085 7.68694 5.86876 7.72759 6.1097 7.94421 C 6.32543 8.13817 6.36768 8.23761 6.27403 8.33126 C 6.19153 8.41376 6.15614 8.39392 5.89576 8.11887 C 5.64694 7.85606 5.64696 7.85599 5.82754 8.20724 C 6.00813 8.55849 6.00815 8.55876 5.88646 8.65579 C 5.79936 8.72524 5.73972 8.74342 5.67665 8.72039 C 5.58919 8.68845 5.56 8.64207 5.4193 8.31834 C 5.32609 8.10387 5.30401 8.16617 5.35212 8.50955 C 5.4027 8.87053 5.36499 8.91417 5.00021 8.91417 C 4.80389 8.91417 4.71062 8.89539 4.66844 8.84751 C 4.6222 8.79502 4.6178 8.72361 4.64777 8.50955 C 4.6959 8.16617 4.67433 8.10387 4.58111 8.31834 C 4.44041 8.64207 4.41071 8.68845 4.32324 8.72039 C 4.26017 8.74342 4.20054 8.72526 4.11344 8.65579 C 3.99175 8.55876 3.99177 8.55849 4.17235 8.20724 C 4.35294 7.85599 4.35295 7.85606 4.10414 8.11887 C 3.84375 8.39392 3.80837 8.41376 3.72587 8.33126 C 3.63221 8.23761 3.67446 8.13817 3.8902 7.94421 C 4.13114 7.72759 4.07905 7.68694 3.77651 7.85584 C 3.54866 7.98304 3.52341 7.9851 3.49487 7.876 C 3.47699 7.80768 3.51133 7.77062 3.66851 7.68996 C 3.77636 7.63461 3.90233 7.55943 3.94859 7.52253 C 4.04564 7.44512 4.07883 7.48116 3.60133 7.13961 C 3.33805 6.95129 3.33828 6.95169 3.16001 7.06313 C 3.06196 7.12442 2.91253 7.22859 2.82825 7.29464 C 2.6618 7.42507 2.58404 7.44162 2.50682 7.3644 C 2.46833 7.32592 2.47302 7.29734 2.52646 7.23831 C 2.62648 7.12779 2.57828 7.11058 2.37298 7.18302 C 2.14652 7.26291 2.01784 7.26339 1.95285 7.18508 C 1.89571 7.11623 1.92726 7.03625 2.01176 7.03625 C 2.09409 7.03625 2.29968 6.92209 2.25929 6.8988 C 2.21985 6.87603 2.06766 6.8858 1.75906 6.93083 C 1.59702 6.95449 1.51398 6.94566 1.41335 6.89363 C 1.2791 6.82421 1.16785 6.67702 1.22576 6.64558 C 1.24317 6.63613 1.4512 6.59233 1.68827 6.54843 C 1.92533 6.50453 2.11925 6.45743 2.11925 6.44353 C 2.11925 6.42963 1.91039 6.40596 1.65468 6.39133 C 1.37096 6.3751 1.13718 6.33972 1.05523 6.29987 C 0.896656 6.22274 0.75733 6.04675 0.789098 5.96397 C 0.812531 5.90291 0.917377 5.90721 1.33377 5.98774 C 1.57434 6.03427 1.7384 5.97751 1.65468 5.87664 C 1.62723 5.84356 1.5627 5.81669 1.51153 5.81669 C 1.41841 5.81669 0.936514 5.6704 0.813386 5.60482 C 0.711095 5.55034 0.579476 5.27959 0.630452 5.22861 C 0.669053 5.19002 0.87458 5.23529 1.15238 5.34385 C 1.18708 5.35741 1.2534 5.37306 1.29966 5.37848 C 1.34592 5.3839 1.45835 5.41648 1.54977 5.45082 C 1.74578 5.52446 1.85562 5.505 1.76371 5.4131 C 1.73127 5.38065 1.68805 5.35419 1.6676 5.35419 C 1.64714 5.35419 1.53124 5.30635 1.40973 5.24773 C 1.28822 5.18912 1.09999 5.11073 0.991669 5.0741 C 0.71009 4.97888 0.586243 4.87778 0.530716 4.69686 C 0.473983 4.51202 0.493344 4.47513 0.609264 4.54752 C 0.65541 4.57634 0.710115 4.5897 0.730704 4.57698 C 0.751291 4.56425 0.778773 4.57056 0.791682 4.59145 C 0.80459 4.61233 0.884346 4.64276 0.968932 4.65862 C 1.05352 4.67449 1.16212 4.71326 1.21078 4.74492 C 1.25944 4.77659 1.34971 4.81143 1.41128 4.82244 C 1.47286 4.83345 1.56462 4.86478 1.61489 4.89168 C 1.72375 4.94994 1.77282 4.91763 1.70325 4.83381 C 1.6744 4.79905 1.61477 4.7838 1.56063 4.79712 C 1.50944 4.80971 1.48114 4.80523 1.49758 4.7873 C 1.52684 4.75539 1.26139 4.59794 1.17512 4.5961 C 1.1511 4.5956 1.08411 4.55812 1.02629 4.5129 C 0.968472 4.46767 0.891392 4.43021 0.855244 4.4297 C 0.709317 4.42761 0.469459 4.04201 0.541568 3.92534 C 0.56439 3.88842 1.05358 4.0657 1.12913 4.13824 C 1.1511 4.15934 1.2018 4.17648 1.24178 4.17648 C 1.28176 4.17648 1.34255 4.2049 1.37718 4.23953 C 1.43593 4.29828 1.57303 4.28717 1.57303 4.22351 C 1.57303 4.19699 1.44541 4.1127 1.22421 3.99355 C 0.826257 3.77919 0.671148 3.60551 0.717785 3.42718 C 0.738725 3.3471 0.760469 3.35392 1.06195 3.5326 C 1.23895 3.6375 1.42135 3.74066 1.46761 3.76152 C 1.51386 3.78239 1.61549 3.83798 1.69343 3.88503 C 1.77138 3.93208 1.84555 3.95978 1.85828 3.94704 C 1.89575 3.90957 1.70716 3.73045 1.29036 3.40806 C 1.07568 3.24201 0.900202 3.08158 0.900202 3.05097 C 0.900202 2.99375 1.01633 2.74712 1.04335 2.74712 C 1.05166 2.74712 1.20432 2.88889 1.38234 3.06234 C 1.56037 3.2358 1.71762 3.37757 1.73219 3.37757 C 1.74676 3.37757 1.80222 3.42972 1.85518 3.49332 C 1.95148 3.60896 1.9514 3.60912 1.90944 3.49126 C 1.86593 3.36901 1.69188 3.13604 1.45882 2.88819 C 1.29059 2.70929 1.24236 2.49294 1.3379 2.34714 C 1.37572 2.28942 1.42031 2.24323 1.43712 2.2443 C 1.47084 2.24643 1.66739 2.49939 2.00659 2.97759 C 2.04851 3.03668 2.1001 3.07442 2.12131 3.06131 C 2.15678 3.03939 2.1356 2.97811 2.0283 2.78897 C 2.00861 2.75428 1.98247 2.69757 1.9699 2.66288 C 1.95734 2.62819 1.90912 2.52742 1.86242 2.43912 C 1.75766 2.24107 1.74801 2.04917 1.83865 1.95853 C 1.87164 1.92555 1.90395 1.90434 1.91668 1.90634 Z M 1.62832 4.22713 C 1.61965 4.22603 1.61489 4.23204 1.61489 4.24521 C 1.61489 4.30134 1.66434 4.35131 1.6924 4.32324 C 1.70435 4.31129 1.69188 4.27878 1.6645 4.25141 C 1.64941 4.23633 1.63699 4.22823 1.62832 4.22713 Z M 8.3664 4.23229 C 8.35969 4.2319 8.35183 4.23417 8.34315 4.23953 C 8.32 4.25382 8.30077 4.28462 8.30077 4.30774 C 8.30077 4.33087 8.32 4.33806 8.34315 4.32376 C 8.36629 4.30947 8.38501 4.27919 8.38501 4.25607 C 8.38501 4.24161 8.3776 4.23295 8.3664 4.23229 Z M 4.05143 4.34392 C 3.78933 4.33838 3.52089 4.45416 3.3476 4.70772 C 3.18898 4.93979 3.16925 5.34873 3.30574 5.58156 C 3.42643 5.78746 3.58208 5.90441 3.78839 5.94433 C 4.06549 5.99795 4.15768 5.98799 4.37182 5.88129 C 4.73256 5.70153 4.9149 5.3116 4.81469 4.93509 C 4.71462 4.5591 4.38841 4.35104 4.05143 4.34392 Z M 5.99756 4.34598 C 5.7245 4.34439 5.54558 4.41777 5.37021 4.60281 C 5.00084 4.99256 5.13088 5.63116 5.63066 5.88335 C 5.8104 5.97406 5.87503 5.98565 6.07249 5.9619 C 6.19967 5.94661 6.351 5.90968 6.4089 5.87974 C 6.78583 5.68483 6.91009 5.08599 6.6523 4.70772 C 6.49106 4.47111 6.26754 4.34758 5.99756 4.34598 Z M 3.95376 4.92114 C 3.98715 4.9235 4.00673 4.96892 4.01887 5.05963 C 4.03074 5.14828 4.05352 5.1638 4.16615 5.15885 C 4.3029 5.15285 4.31622 5.20681 4.21059 5.34334 C 4.15445 5.41589 3.94732 5.40976 3.87056 5.333 C 3.7528 5.21525 3.74481 5.10154 3.84731 4.99245 C 3.89319 4.94361 3.92779 4.9193 3.95376 4.92114 Z M 6.04613 4.92114 C 6.07211 4.9193 6.1067 4.94361 6.15259 4.99245 C 6.25508 5.10154 6.2476 5.21525 6.12985 5.333 C 6.05308 5.40976 5.84596 5.41589 5.78982 5.34334 C 5.68417 5.20681 5.69697 5.15285 5.83375 5.15885 C 5.94637 5.16382 5.96967 5.14828 5.98154 5.05963 C 5.99369 4.96892 6.01274 4.9235 6.04613 4.92114 Z M 5.00021 5.73246 C 4.97502 5.73246 4.81055 6.01422 4.81055 6.0575 C 4.81055 6.08056 4.85053 6.15039 4.89944 6.21253 C 4.98348 6.31938 4.99287 6.32187 5.06687 6.25491 C 5.10988 6.21596 5.1564 6.14808 5.17022 6.10453 C 5.19103 6.03889 5.05104 5.73246 5.00021 5.73246 Z M 3.19463 6.02701 C 3.12682 6.02701 3.18796 6.22579 3.31866 6.43009 C 3.60016 6.87013 4.14761 7.24877 4.6426 7.3458 C 4.84787 7.38603 5.4636 7.33441 5.65184 7.26105 C 6.05336 7.10458 6.45974 6.77633 6.68124 6.43009 C 6.81193 6.22579 6.8736 6.02701 6.80578 6.02701 C 6.79271 6.02701 6.67425 6.07657 6.54274 6.1376 C 6.23311 6.2813 5.97671 6.30623 5.68285 6.2208 C 5.5545 6.18349 5.42959 6.1531 5.40535 6.1531 C 5.38111 6.1531 5.30026 6.24272 5.22551 6.35258 C 5.00801 6.67222 4.98272 6.67272 4.77903 6.36188 C 4.70369 6.24689 4.62127 6.1531 4.5961 6.1531 C 4.57092 6.1531 4.44539 6.18349 4.31704 6.2208 C 4.02318 6.30622 3.76678 6.2813 3.45715 6.1376 C 3.32564 6.07657 3.20768 6.02701 3.19463 6.02701 Z")},m(n,r){S(n,e,r)},d(n){n&&b(e)}}}function _t(t){let e,n,r,i,o,a,f,m,C,y,L,h,M,g,w,R,P,x,F,A,W,N;e=new tt({props:{lineColor:t[7]}});let D=t[8]&&Ze();return{c(){ce(e.$$.fragment),n=V(),r=I("text"),i=B(t[0]),o=V(),a=I("text"),f=B(t[1]),m=V(),C=I("text"),y=B(t[2]),L=V(),h=I("text"),M=B(t[3]),g=V(),w=I("text"),R=B(t[4]),P=V(),x=I("text"),F=B(t[5]),A=V(),D&&D.c(),W=Ee(),s(r,"class","line-number"),s(r,"x",t[9]),s(r,"y","225"),s(r,"fill",t[6]),s(r,"textLength",t[10]),s(r,"lengthAdjust","spacingAndGlyphs"),s(a,"class","line-modifier"),s(a,"x",t[11]),s(a,"y","154"),s(a,"fill",t[6]),s(a,"textLength",t[12]),s(a,"lengthAdjust","spacingAndGlyphs"),s(C,"class","line-name"),s(C,"x","370"),s(C,"y","60"),s(C,"fill",t[6]),s(h,"class","line-info"),s(h,"x","370"),s(h,"y","110"),s(h,"fill",t[6]),s(w,"class","line-info"),s(w,"x","370"),s(w,"y","160"),s(w,"fill",t[6]),s(x,"class","line-info"),s(x,"x","370"),s(x,"y","210"),s(x,"fill",t[6])},m(p,_){se(e,p,_),S(p,n,_),S(p,r,_),T(r,i),S(p,o,_),S(p,a,_),T(a,f),S(p,m,_),S(p,C,_),T(C,y),S(p,L,_),S(p,h,_),T(h,M),S(p,g,_),S(p,w,_),T(w,R),S(p,P,_),S(p,x,_),T(x,F),S(p,A,_),D&&D.m(p,_),S(p,W,_),N=!0},p(p,[_]){const q={};_&128&&(q.lineColor=p[7]),e.$set(q),(!N||_&1)&&ie(i,p[0]),(!N||_&64)&&s(r,"fill",p[6]),(!N||_&2)&&ie(f,p[1]),(!N||_&64)&&s(a,"fill",p[6]),(!N||_&4)&&ie(y,p[2]),(!N||_&64)&&s(C,"fill",p[6]),(!N||_&8)&&ie(M,p[3]),(!N||_&64)&&s(h,"fill",p[6]),(!N||_&16)&&ie(R,p[4]),(!N||_&64)&&s(w,"fill",p[6]),(!N||_&32)&&ie(F,p[5]),(!N||_&64)&&s(x,"fill",p[6]),p[8]?D||(D=Ze(),D.c(),D.m(W.parentNode,W)):D&&(D.d(1),D=null)},i(p){N||(H(e.$$.fragment,p),N=!0)},o(p){te(e.$$.fragment,p),N=!1},d(p){ae(e,p),p&&b(n),p&&b(r),p&&b(o),p&&b(a),p&&b(m),p&&b(C),p&&b(L),p&&b(h),p&&b(g),p&&b(w),p&&b(P),p&&b(x),p&&b(A),D&&D.d(p),p&&b(W)}}}const bt=25,qe=320;function yt(t,e,n){let{lineNum:r="0"}=e,{lineMod:i=""}=e,{lineName:o="Unnamed"}=e,{lineDest0:a="Somewhere"}=e,{lineDest1:f=""}=e,{lineTime:m="Fruersdays ~ 14am-32pm"}=e,{lineTextColor:C="#ffffff"}=e,{lineColor:y="#ff00ff"}=e,{isOwl:L=!1}=e,h=140*r.length,M=80*i.length,g=h+5+M;const w=Math.tanh(qe/g);g*=w,h*=w,M*=w;let R=bt+(qe-g)/2,P=h,x=R+P+5,F=M;return t.$$set=A=>{"lineNum"in A&&n(0,r=A.lineNum),"lineMod"in A&&n(1,i=A.lineMod),"lineName"in A&&n(2,o=A.lineName),"lineDest0"in A&&n(3,a=A.lineDest0),"lineDest1"in A&&n(4,f=A.lineDest1),"lineTime"in A&&n(5,m=A.lineTime),"lineTextColor"in A&&n(6,C=A.lineTextColor),"lineColor"in A&&n(7,y=A.lineColor),"isOwl"in A&&n(8,L=A.isOwl)},[r,i,o,a,f,m,C,y,L,R,P,x,F]}class St extends he{constructor(e){super(),me(this,e,yt,_t,Ce,{lineNum:0,lineMod:1,lineName:2,lineDest0:3,lineDest1:4,lineTime:5,lineTextColor:6,lineColor:7,isOwl:8})}}function Lt(t){let e,n,r,i,o,a,f,m,C,y,L,h,M,g,w,R,P,x,F,A,W,N,D,p,_,q;return{c(){e=I("rect"),n=V(),r=I("text"),i=B("Stop ID:\u2002 "),o=B(t[0]),a=V(),f=I("text"),m=B(t[1]),C=V(),y=I("text"),L=B("SFMTA"),h=I("tspan"),M=B(".com"),g=V(),w=I("path"),R=V(),P=I("text"),x=B("311"),F=V(),A=I("text"),W=B("\u4E2D\u6587 / Espa\xF1ol / Fran\xE7ais / \u65E5\u672C\u8A9E / \uD55C\uAD6D\uC5B4 /"),N=V(),D=I("text"),p=B("\u0440\u0443\u0441\u0441\u043A\u0438\u0439 / Filipino / ti\u1EBFng Vi\u1EC7t / \u0E20\u0E32\u0E29\u0E32\u0E44\u0E17\u0E22 / \u0627\u0644\u0644\u063A\u0629 \u0627\u0644\u0639\u0631\u0628\u064A\u0629"),_=V(),q=I("path"),s(e,"x","0"),s(e,"y","0"),s(e,"width","1100"),s(e,"height","151"),s(e,"fill","#000"),s(r,"class","w stop-id"),s(r,"x","25"),s(r,"y","55"),s(f,"class","w stop-loc"),s(f,"x","1075"),s(f,"y","55"),Ne(h,"font-stretch","87.5%"),s(y,"class","w sfmta"),s(y,"x","25"),s(y,"y","125"),s(w,"class","w"),s(w,"transform","translate(330, 80) scale(5)"),s(w,"d","M 0.582909 0 C 0.260026 -1.56665e-16 1.80369e-18 0.260026 0 0.582909 L 0 9.41698 C -7.83323e-17 9.73987 0.260026 9.99989 0.582909 9.99989 L 9.41698 9.99989 C 9.73987 9.99989 9.99989 9.73987 9.99989 9.41698 L 9.99989 0.582909 C 9.99989 0.260026 9.73987 0 9.41698 0 L 0.582909 0 Z M 5.41465 1.47433 L 5.75416 1.47433 L 5.75416 2.88457 L 5.4808 2.88457 C 4.95289 2.88457 4.5284 3.41335 4.5284 4.06951 L 4.5284 6.11641 C 4.5284 6.66484 4.88684 7.11532 5.3299 7.11532 L 5.84821 7.11532 L 5.84821 8.52557 L 5.41465 8.52557 C 4.30228 8.52557 3.3972 7.3996 3.3972 6.00893 L 3.3972 3.99148 C 3.3972 2.60081 4.30228 1.47433 5.41465 1.47433 Z M 5.84821 1.47433 L 6.33862 1.47433 C 6.43289 1.47433 6.50812 1.55261 6.50812 1.65054 L 6.50812 2.66908 C 6.50812 2.76702 6.43289 2.8453 6.33862 2.8453 L 5.84821 2.8453 L 5.84821 1.47433 Z M 5.94278 7.15459 L 6.43267 7.15459 C 6.52694 7.15459 6.60269 7.23289 6.60269 7.33081 L 6.60269 8.34935 C 6.60269 8.4473 6.52694 8.52557 6.43267 8.52557 L 5.94278 8.52557 L 5.94278 7.15459 Z"),s(P,"class","w sfmta"),s(P,"x","390"),s(P,"y","125"),s(A,"class","w i18n"),s(A,"x","500"),s(A,"y","100"),s(D,"class","w i18n"),s(D,"x","500"),s(D,"y","125"),s(q,"class","w"),s(q,"transform","translate(1030, 85) scale(4)"),s(q,"d","M 5.00021 0 C 2.24398 -1.2085e-08 -6.26658e-16 2.24398 0 5.00021 C 6.04247e-08 7.75643 2.24398 9.99989 5.00021 9.99989 C 7.75643 9.99989 9.99989 7.75643 9.99989 5.00021 C 9.99989 2.24398 7.75643 -6.26658e-16 5.00021 0 Z M 5.00021 0.876948 C 7.28236 0.876948 9.12295 2.71805 9.12295 5.00021 C 9.12295 6.14431 8.66012 7.17707 7.91114 7.92302 L 6.3133 6.32519 L 7.19593 6.32519 L 7.19593 5.15523 L 5.14335 5.15523 L 2.07687 2.08876 C 2.82283 1.33976 3.85609 0.876948 5.00021 0.876948 Z M 5.37693 1.53582 C 5.05137 1.53582 4.56323 1.82509 4.56302 2.40864 C 4.56302 2.79894 4.84389 3.13767 5.25032 3.23804 C 5.37617 3.2691 5.37796 3.2672 5.37796 3.34139 C 5.37796 3.37999 5.37486 3.39943 5.37486 3.43803 C 5.37486 3.85348 5.64374 4.01776 5.87974 4.13049 L 6.44043 4.13876 C 7.03402 4.14772 7.07924 4.15308 7.19593 4.22248 C 7.26339 4.26258 7.32789 4.35503 7.34631 4.43797 C 7.35499 4.47708 7.36233 4.60389 7.36233 4.7196 C 7.36233 4.8353 7.36675 4.93403 7.37215 4.93923 C 7.37753 4.94445 7.44379 4.94853 7.51943 4.94853 L 7.65689 4.94853 L 7.65689 4.69583 C 7.65689 4.4209 7.64236 4.33584 7.57421 4.20594 C 7.52327 4.10888 7.40399 3.99598 7.30135 3.94756 C 7.13077 3.86709 7.10337 3.8638 6.5076 3.85454 C 5.89822 3.84506 5.89724 3.84509 5.80274 3.75222 C 5.71859 3.66952 5.67406 3.55135 5.67406 3.43131 C 5.67406 3.27811 5.75468 3.18614 5.75468 3.12487 C 5.75468 2.85273 4.99997 3.17036 4.86895 2.48977 C 4.86345 2.46123 4.86068 2.43196 4.86068 2.40192 C 4.86068 2.09475 5.14136 1.83244 5.32835 1.83244 C 5.42174 1.83244 5.43067 1.79843 5.43067 1.74718 C 5.43067 1.71471 5.43067 1.68665 5.43067 1.66295 C 5.43067 1.56344 5.4261 1.53582 5.37693 1.53582 Z M 5.82186 1.82056 C 5.81309 1.82056 5.80424 1.82087 5.73401 1.82521 L 5.73401 2.09393 C 5.73401 2.09394 6.44045 2.14058 6.44043 2.73936 C 6.43897 3.09287 6.26008 3.20435 6.26008 3.31607 C 6.26008 3.43441 6.33037 3.45457 6.66005 3.45457 C 7.00844 3.45457 7.12887 3.47345 7.2998 3.55482 C 7.51539 3.65744 7.68484 3.85446 7.77058 4.10207 C 7.80809 4.21043 7.81051 4.23182 7.81502 4.5501 C 7.81762 4.73402 7.82287 4.89889 7.8269 4.91649 C 7.83392 4.94712 7.84074 4.94853 7.98297 4.94853 L 8.13179 4.94853 L 8.12456 4.58938 C 8.11827 4.26031 8.11454 4.21852 8.0796 4.09122 C 7.94951 3.6174 7.58529 3.27733 7.11532 3.1905 C 7.05503 3.17937 6.93404 3.16983 6.84609 3.16983 C 6.70828 3.16983 6.6771 3.16253 6.6771 3.15122 C 6.6771 3.07398 6.74893 2.99696 6.74893 2.7652 C 6.74893 2.13035 6.16069 1.82056 5.82186 1.82056 Z M 1.38544 3.01067 L 3.53001 5.15523 L 1.62987 5.15523 L 1.62987 6.32519 L 4.69997 6.32519 L 6.98923 8.61445 C 6.39985 8.93867 5.72225 9.12295 5.00021 9.12295 C 2.71805 9.12295 0.876948 7.28236 0.876948 5.00021 C 0.876948 4.27816 1.06122 3.60004 1.38544 3.01067 Z M 7.36233 5.15523 L 7.36233 6.32519 L 7.65327 6.32519 L 7.65327 5.15523 L 7.36233 5.15523 Z M 7.83724 5.15523 L 7.83724 6.32519 L 8.12818 6.32519 L 8.12818 5.15523 L 7.83724 5.15523 Z")},m(u,l){S(u,e,l),S(u,n,l),S(u,r,l),T(r,i),T(r,o),S(u,a,l),S(u,f,l),T(f,m),S(u,C,l),S(u,y,l),T(y,L),T(y,h),T(h,M),S(u,g,l),S(u,w,l),S(u,R,l),S(u,P,l),T(P,x),S(u,F,l),S(u,A,l),T(A,W),S(u,N,l),S(u,D,l),T(D,p),S(u,_,l),S(u,q,l)},p(u,[l]){l&1&&ie(o,u[0]),l&2&&ie(m,u[1])},i:X,o:X,d(u){u&&b(e),u&&b(n),u&&b(r),u&&b(a),u&&b(f),u&&b(C),u&&b(y),u&&b(g),u&&b(w),u&&b(R),u&&b(P),u&&b(F),u&&b(A),u&&b(N),u&&b(D),u&&b(_),u&&b(q)}}}function xt(t,e,n){let{stopId:r="19999"}=e,{stopLoc:i="Somewhere"}=e;return t.$$set=o=>{"stopId"in o&&n(0,r=o.stopId),"stopLoc"in o&&n(1,i=o.stopLoc)},[r,i]}class Tt extends he{constructor(e){super(),me(this,e,xt,Lt,Ce,{stopId:0,stopLoc:1})}}function kt(t){const e=/(,|\r?\n|^)("((?:[^"]|"")+)"|[^,\r\n]*)/g;t=t.trim();const n=[];let r=null,i;for(;i=e.exec(t);){const o=i[1],a=i[3]?i[3].replace(/""/g,'"'):i[2];o!==","&&n.push(r=[]),r.push(a)}return n}function At(t){let e=t.mon+t.tue+t.wed+t.thu+t.fri+t.sat+t.sun;switch(e){case"1111111":e="Daily";break;case"1111100":e="Weekdays";break;case"0000011":e="Weekends";break;default:console.warn("UNKNOWN DAYS OF WEEK "+e);break}const[n,r,i]=Ge(t.start_time),[o,a,f]=Ge(t.end_time);return 23<=o-n?`24 Hours ${e}`:t.start_time===t.end_time?`${e} ~ ${Te(n,r,5)} only`:`${e} ~ ${Te(n,r)}-${Te(o,a)}`}function Ge(t){return t.split(":").map(Number)}function Te(t,e,n=15,r=Math.floor){e=n*r(e/n),60<=e&&(e-=60,t+=1);let i=1<=t/12%2?"pm":"am";t=(t-1)%12+1,t===12&&e===0&&(i={pm:" noon",am:" midnight"}[i]);const o=e===0?"":":"+`${e}`.padStart(2,"0");return`${t}${o}${i}`}const nt=(async()=>{const e=await(await fetch("data/stop_times.csv")).text(),[n,...r]=kt(e),i={};for(const o of r){const a=Object.fromEntries(o.map((f,m)=>[n[m],f]));(i[a.stop_code]||(i[a.stop_code]=[])).push(a)}for(const o of Object.values(i))o.sort((a,f)=>parseInt(a.route_short_name)-parseInt(f.route_short_name)||-a.route_short_name.localeCompare(f.route_short_name)||(Xe["#"+a.route_color]||0)-(Xe["#"+f.route_color]||0));return i})(),Et=(async()=>await(await fetch("data/control_locs.json")).json())();async function He(){const t=await nt,e=Object.keys(t);return e[0|Math.random()*e.length]}function ze(t){if(/\D/.test(t[0])){const e=t.toUpperCase();e.endsWith(" ST")||e.endsWith(" RD")||e.endsWith(" DR")?t=t.slice(0,-3):e.endsWith(" AVE")||e.endsWith(" WAY")||e.endsWith(" TER")?t=t.slice(0,-4):e.endsWith(" BLVD")?t=t.slice(0,-5):(e.endsWith(" STREET")||e.endsWith(" AVENUE"))&&(t=t.slice(0,-7))}return t}async function Nt(t){const e=await nt,n=await Et,r=e[t];if(r==null)throw Error("Stop not found: "+t);let i=r[0].stop_name;if(i.includes(" & ")){let[f,m]=i.split(" & ",2);f=ze(f),m=ze(m),i=`${f} & ${m}`}const o=r.map(f=>{let m=f.route_short_name,C="";const y=m.match(/^(\d+)([A-Za-z]+)$/);y?[m,C]=y.slice(1):m=m.replace(/(BUS|-OWL)$/,"");let L=f.trip_headsign,h=n[f.route_short_name][+f.direction_id];L.includes(h)?h="":h.includes(L)&&(L=h,h="");const M="#"+f.route_text_color,g="#"+f.route_color;return{lineNum:m,lineMod:C,lineName:f.route_long_name,lineDest0:L,lineDest1:h,lineTime:At(f),lineTextColor:M,lineColor:g,isRapid:ye===g,isOwl:it===g}}),a=o.some(f=>f.isRapid);return{stopId:t,stopLoc:i,lines:o,hasRapid:a}}const ye="#BF2B45",Se="#005B95",it="#666666",Xe={[ye]:-100,[Se]:100,[it]:200};function $e(t){let e,n;return{c(){e=I("text"),n=B("Rapid"),s(e,"class","w rapid"),s(e,"x","450"),s(e,"y","217"),s(e,"textLength","550"),s(e,"lengthAdjust","spacingAndGlyphs")},m(r,i){S(r,e,i),T(e,n)},d(r){r&&b(e)}}}function Ot(t){let e,n,r,i,o,a;e=new tt({props:{lineColor:t[1]}});let f=t[0]&&$e();return{c(){ce(e.$$.fragment),n=V(),r=I("path"),i=V(),f&&f.c(),o=Ee(),s(r,"fill","white"),s(r,"d","m 302.00656,186.63989 v -80.79093 c 0,0 0,-3.87078 -3.95418,-3.87078 -3.7514,0 -3.7514,3.87078 -3.7514,3.87078 V 217.15257 H 278.90129 V 90.407722 c 0,0 -0.36978,-19.228477 19.15109,-19.228477 19.22844,0 19.22844,19.228477 19.22844,19.228477 v 69.262118 c 0,0 0,26.97006 26.92839,26.97006 26.92828,0 26.92828,-26.97006 26.92828,-26.97006 V 32.471581 h 15.39953 V 186.63989 c 0,0 0,34.55053 -42.32781,34.55053 -42.20265,0 -42.20265,-34.55053 -42.20265,-34.55053 M 209.63918,159.84277 V 32.471581 h 15.4056 V 144.31204 c 0,0 -0.37573,3.8708 3.829,3.8708 4.24046,0 3.82901,-3.8708 3.82901,-3.8708 V 32.471581 h 15.39343 V 159.66984 c 0,0 1.58656,19.27026 -19.22244,19.27026 -20.77333,0 -19.2346,-19.09732 -19.2346,-19.09732 M 71.204583,178.94009 71.16325,105.84896 c 0,0 0,-3.87078 -3.835003,-3.87078 -3.864665,0 -3.864665,3.87078 -3.864665,3.87078 V 217.15257 H 48.105784 V 90.407722 c 0,0 0,-19.228477 19.222464,-19.228477 19.234602,0 19.234602,19.228477 19.234602,19.228477 v 69.262118 c 0,0 0,26.97006 26.88639,26.97006 26.97607,0 26.97607,-26.97006 26.97607,-26.97006 V 90.407722 c 0,0 -0.33988,-19.228477 19.1451,-19.228477 19.31204,0 19.31204,19.228477 19.31204,19.228477 V 217.15257 H 163.52464 V 105.84896 c 0,0 0,-3.87078 -3.95419,-3.87078 -3.74561,0 -3.74561,3.87078 -3.74561,3.87078 v 73.09113 c 0,0 -0.501,42.25033 -42.3756,42.25033 -41.874391,0 -42.244192,-42.25033 -42.244192,-42.25033 M 394.28439,32.471581 H 425 V 217.15257 h -30.71561 z m 0,0 M 186.58167,178.94001 V 90.407612 c 0,0 0,-26.844754 -27.01176,-26.844754 -26.84492,0 -26.84492,26.844754 -26.84492,26.844754 v 69.262098 c 0,0 0,19.2703 -19.27627,19.2703 -19.22844,0 -19.22844,-19.2703 -19.22844,-19.2703 V 90.407612 c 0,0 0,-26.844754 -26.892547,-26.844754 -26.928262,0 -26.928262,26.844754 -26.928262,26.844754 V 217.15249 H 25 V 71.179151 c 0,0 0,-42.369574 42.327733,-42.369574 42.333837,0 42.333837,42.369574 42.333837,42.369574 l 0.16703,73.669619 c 0,0 -0.16703,3.33398 3.62028,3.33398 4.03785,0 3.91248,-3.87082 3.91248,-3.87082 V 71.179151 c 0,0 0,-42.369574 42.20867,-42.369574 42.41126,0 42.33369,42.369574 42.33369,42.369574 l 0.078,88.490559 c 0,0 -1.24648,26.97009 26.89255,26.97009 28.17479,0 26.8866,-26.97009 26.8866,-26.97009 l 0.0351,-88.490559 c 0,0 0,-42.369574 42.25631,-42.369574 42.28604,0 42.28604,42.369574 42.28604,42.369574 l 0.12527,73.132779 c 0,0 -0.12527,3.87083 3.74564,3.87083 3.82897,0 3.82897,-3.87083 3.82897,-3.87083 V 32.471541 h 15.40545 V 159.66971 c 0,0 0,19.2703 -19.23442,19.2703 -19.27029,0 -19.27029,-19.2703 -19.27029,-19.2703 V 90.407612 c 0,0 0,-26.844754 -26.8866,-26.844754 -26.85074,0 -26.85074,26.844754 -26.85074,26.844754 v 88.532398 c 0,0 0,42.25032 -42.32786,42.25032 -42.29202,0 -42.29202,-42.25031 -42.29202,-42.25031")},m(m,C){se(e,m,C),S(m,n,C),S(m,r,C),S(m,i,C),f&&f.m(m,C),S(m,o,C),a=!0},p(m,[C]){const y={};C&2&&(y.lineColor=m[1]),e.$set(y),m[0]?f||(f=$e(),f.c(),f.m(o.parentNode,o)):f&&(f.d(1),f=null)},i(m){a||(H(e.$$.fragment,m),a=!0)},o(m){te(e.$$.fragment,m),a=!1},d(m){ae(e,m),m&&b(n),m&&b(r),m&&b(i),f&&f.d(m),m&&b(o)}}}function Mt(t,e,n){let{hasRapid:r=!1}=e,{lineColor:i=Se}=e;return t.$$set=o=>{"hasRapid"in o&&n(0,r=o.hasRapid),"lineColor"in o&&n(1,i=o.lineColor)},[r,i]}class Dt extends he{constructor(e){super(),me(this,e,Mt,Ot,Ce,{hasRapid:0,lineColor:1})}}function Ye(t,e,n){const r=t.slice();return r[3]=e[n],r[5]=n,r}function Rt(t){let e,n=t[6].message+"",r;return{c(){e=G("p"),r=B(n),Ne(e,"color","red")},m(i,o){S(i,e,o),T(e,r)},p(i,o){o&1&&n!==(n=i[6].message+"")&&ie(r,n)},i:X,o:X,d(i){i&&b(e)}}}function It(t){let e,n,r,i,o,a,f,m,C,y;o=new Dt({props:{hasRapid:t[2].hasRapid,lineColor:t[2].hasRapid?ye:Se}});let L=t[2].lines,h=[];for(let g=0;g<L.length;g+=1)h[g]=Ke(Ye(t,L,g));const M=g=>te(h[g],1,1,()=>{h[g]=null});return f=new Tt({props:{stopId:t[2].stopId,stopLoc:t[2].stopLoc}}),{c(){e=I("svg"),n=I("style"),r=B(`.w {
                fill: white;
            }

            .rapid {
                font-family: "Open Sans", sans-serif;
                font-size: 260px;
                font-stretch: 87.5%;
                font-weight: 300;
                text-transform: uppercase;
            }

            .line-number {
                font-family: "Open Sans", sans-serif;
                font-size: 280px;
                font-stretch: 87.5%;
                font-weight: 500;
                letter-spacing: -0.05em;
                text-align: center;
            }
            .line-modifier {
                font-family: "Open Sans", sans-serif;
                font-size: 180px;
                font-stretch: 87.5%;
                font-weight: 500;
                letter-spacing: -0.05em;
                text-align: center;
            }

            .line-name {
                font-family: "Open Sans", sans-serif;
                font-size: 48px;
                font-stretch: 100%;
                font-weight: 700;
                text-transform: uppercase;
            }

            .line-info {
                font-family: "Open Sans", sans-serif;
                font-size: 36px;
                font-stretch: 100%;
                font-weight: 400;
            }

            .stop-id,
            .stop-loc {
                font-family: "Open Sans", sans-serif;
                font-size: 48px;
                font-stretch: 87.5%;
                font-weight: 500;
                text-transform: uppercase;
            }

            .stop-loc {
                text-anchor: end;
            }

            .sfmta {
                font-family: "Open Sans", sans-serif;
                font-size: 54px;
                font-weight: 700;
            }

            .i18n {
                font-family: "Noto Sans", "Noto Sans Arabic", "Noto Sans Thai",
                    "Noto Sans KR", sans-serif;
                font-size: 21px;
            }
        `),i=I("g"),ce(o.$$.fragment);for(let g=0;g<h.length;g+=1)h[g].c();a=I("g"),ce(f.$$.fragment),s(n,"type","text/css"),s(i,"transform","translate("+0+", "+0*ue+")"),s(a,"transform",m="translate("+0+", "+(1+t[2].lines.length)*ue+")"),s(e,"id","sign"),s(e,"xmlns","http://www.w3.org/2000/svg"),s(e,"version","1.1"),s(e,"viewBox",C="0 0 1100 "+(150+(1+t[2].lines.length)*ue)),Ne(e,"background","white"),s(e,"class","svelte-6yqfsj")},m(g,w){S(g,e,w),T(e,n),T(n,r),T(e,i),se(o,i,null);for(let R=0;R<h.length;R+=1)h[R].m(e,null);T(e,a),se(f,a,null),y=!0},p(g,w){const R={};if(w&1&&(R.hasRapid=g[2].hasRapid),w&1&&(R.lineColor=g[2].hasRapid?ye:Se),o.$set(R),w&1){L=g[2].lines;let x;for(x=0;x<L.length;x+=1){const F=Ye(g,L,x);h[x]?(h[x].p(F,w),H(h[x],1)):(h[x]=Ke(F),h[x].c(),H(h[x],1),h[x].m(e,a))}for(Qe(),x=L.length;x<h.length;x+=1)M(x);et()}const P={};w&1&&(P.stopId=g[2].stopId),w&1&&(P.stopLoc=g[2].stopLoc),f.$set(P),(!y||w&1&&m!==(m="translate("+0+", "+(1+g[2].lines.length)*ue+")"))&&s(a,"transform",m),(!y||w&1&&C!==(C="0 0 1100 "+(150+(1+g[2].lines.length)*ue)))&&s(e,"viewBox",C)},i(g){if(!y){H(o.$$.fragment,g);for(let w=0;w<L.length;w+=1)H(h[w]);H(f.$$.fragment,g),y=!0}},o(g){te(o.$$.fragment,g),h=h.filter(Boolean);for(let w=0;w<h.length;w+=1)te(h[w]);te(f.$$.fragment,g),y=!1},d(g){g&&b(e),ae(o),ft(h,g),ae(f)}}}function Ke(t){let e,n,r;return n=new St({props:{lineNum:t[3].lineNum,lineMod:t[3].lineMod,lineName:t[3].lineName,lineDest0:t[3].lineDest0,lineDest1:t[3].lineDest1,lineTime:t[3].lineTime,lineTextColor:t[3].lineTextColor,lineColor:t[3].lineColor,isOwl:t[3].isOwl}}),{c(){e=I("g"),ce(n.$$.fragment),s(e,"transform","translate("+0+", "+(1+t[5])*ue+")")},m(i,o){S(i,e,o),se(n,e,null),r=!0},p(i,o){const a={};o&1&&(a.lineNum=i[3].lineNum),o&1&&(a.lineMod=i[3].lineMod),o&1&&(a.lineName=i[3].lineName),o&1&&(a.lineDest0=i[3].lineDest0),o&1&&(a.lineDest1=i[3].lineDest1),o&1&&(a.lineTime=i[3].lineTime),o&1&&(a.lineTextColor=i[3].lineTextColor),o&1&&(a.lineColor=i[3].lineColor),o&1&&(a.isOwl=i[3].isOwl),n.$set(a)},i(i){r||(H(n.$$.fragment,i),r=!0)},o(i){te(n.$$.fragment,i),r=!1},d(i){i&&b(e),ae(n)}}}function Pt(t){let e;return{c(){e=G("p"),e.textContent="Loading..."},m(n,r){S(n,e,r)},p:X,i:X,o:X,d(n){n&&b(e)}}}function Vt(t){let e,n,r,i={ctx:t,current:null,token:null,hasCatch:!0,pending:Pt,then:It,catch:Rt,value:2,error:6,blocks:[,,,]};return je(n=t[0],i),{c(){e=Ee(),i.block.c()},m(o,a){S(o,e,a),i.block.m(o,i.anchor=a),i.mount=()=>e.parentNode,i.anchor=e,r=!0},p(o,[a]){t=o,i.ctx=t,a&1&&n!==(n=t[0])&&je(n,i)||ht(i,t,a)},i(o){r||(H(i.block),r=!0)},o(o){for(let a=0;a<3;a+=1){const f=i.blocks[a];te(f)}r=!1},d(o){o&&b(e),i.block.d(o),i.token=null,i=null}}}const ue=262.5;function Ut(t,e,n){let{stopId:r="16371"}=e,i=new Promise(()=>{});return t.$$set=o=>{"stopId"in o&&n(1,r=o.stopId)},t.$$.update=()=>{t.$$.dirty&2&&n(0,i=Nt(r))},[i,r]}class Bt extends he{constructor(e){super(),me(this,e,Ut,Vt,Ce,{stopId:1})}}var rt={};(function(t){(function(){var e=t||!1||this||window;e.default=e;var n="http://www.w3.org/2000/xmlns/",r="http://www.w3.org/1999/xhtml",i="http://www.w3.org/2000/svg",o='<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>',a=/url\(["']?(.+?)["']?\)/,f={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",sfnt:"application/font-sfnt",svg:"image/svg+xml"},m=function(l){return l instanceof HTMLElement||l instanceof SVGElement},C=function(l){if(!m(l))throw new Error("an HTMLElement or SVGElement is required; got "+l)},y=function(l){return new Promise(function(d,c){m(l)?d(l):c(new Error("an HTMLElement or SVGElement is required; got "+l))})},L=function(l){return l&&l.lastIndexOf("http",0)===0&&l.lastIndexOf(window.location.host)===-1},h=function(l){var d=Object.keys(f).filter(function(c){return l.indexOf("."+c)>0}).map(function(c){return f[c]});return d?d[0]:(console.error("Unknown font format for "+l+". Fonts may not be working correctly."),"application/octet-stream")},M=function(l){for(var d="",c=new Uint8Array(l),v=0;v<c.byteLength;v++)d+=String.fromCharCode(c[v]);return window.btoa(d)},g=function(l,d,c){var v=l.viewBox&&l.viewBox.baseVal&&l.viewBox.baseVal[c]||d.getAttribute(c)!==null&&!d.getAttribute(c).match(/%$/)&&parseInt(d.getAttribute(c))||l.getBoundingClientRect()[c]||parseInt(d.style[c])||parseInt(window.getComputedStyle(l).getPropertyValue(c));return typeof v>"u"||v===null||isNaN(parseFloat(v))?0:v},w=function(l,d,c,v){if(l.tagName==="svg")return{width:c||g(l,d,"width"),height:v||g(l,d,"height")};if(l.getBBox){var E=l.getBBox(),O=E.x,U=E.y,ne=E.width,oe=E.height;return{width:O+ne,height:U+oe}}},R=function(l){return decodeURIComponent(encodeURIComponent(l).replace(/%([0-9A-F]{2})/g,function(d,c){var v=String.fromCharCode("0x"+c);return v==="%"?"%25":v}))},P=function(l){for(var d=window.atob(l.split(",")[1]),c=l.split(",")[0].split(":")[1].split(";")[0],v=new ArrayBuffer(d.length),E=new Uint8Array(v),O=0;O<d.length;O++)E[O]=d.charCodeAt(O);return new Blob([v],{type:c})},x=function(l,d){if(!!d)try{return l.querySelector(d)||l.parentNode&&l.parentNode.querySelector(d)}catch(c){console.warn('Invalid CSS selector "'+d+'"',c)}},F=function(l,d){var c=l.cssText.match(a),v=c&&c[1]||"";if(!(!v||v.match(/^data:/)||v==="about:blank")){var E=v.startsWith("../")?d+"/../"+v:v.startsWith("./")?d+"/."+v:v;return{text:l.cssText,format:h(E),url:E}}},A=function(l){return Promise.all(Array.from(l.querySelectorAll("image")).map(function(d){var c=d.getAttributeNS("http://www.w3.org/1999/xlink","href")||d.getAttribute("href");return c?(L(c)&&(c+=(c.indexOf("?")===-1?"?":"&")+"t="+new Date().valueOf()),new Promise(function(v,E){var O=document.createElement("canvas"),U=new Image;U.crossOrigin="anonymous",U.src=c,U.onerror=function(){return E(new Error("Could not load "+c))},U.onload=function(){O.width=U.width,O.height=U.height,O.getContext("2d").drawImage(U,0,0),d.setAttributeNS("http://www.w3.org/1999/xlink","href",O.toDataURL("image/png")),v(!0)}})):Promise.resolve(null)}))},W={},N=function(l){return Promise.all(l.map(function(d){return new Promise(function(c,v){if(W[d.url])return c(W[d.url]);var E=new XMLHttpRequest;E.addEventListener("load",function(){var O=M(E.response),U=d.text.replace(a,'url("data:'+d.format+";base64,"+O+'")')+`
`;W[d.url]=U,c(U)}),E.addEventListener("error",function(O){console.warn("Failed to load font from: "+d.url,O),W[d.url]=null,c(null)}),E.addEventListener("abort",function(O){console.warn("Aborted loading font from: "+d.url,O),c(null)}),E.open("GET",d.url),E.responseType="arraybuffer",E.send()})})).then(function(d){return d.filter(function(c){return c}).join("")})},D=null,p=function(){return D||(D=Array.from(document.styleSheets).map(function(l){try{return{rules:l.cssRules,href:l.href}}catch(d){return console.warn("Stylesheet could not be loaded: "+l.href,d),{}}}))},_=function(l,d){var c=d||{},v=c.selectorRemap,E=c.modifyStyle,O=c.modifyCss,U=c.fonts,ne=c.excludeUnusedCss,oe=O||function(j,K){var Z=v?v(j):j,k=E?E(K):K;return Z+"{"+k+`}
`},z=[],$=typeof U>"u",Y=U||[];return p().forEach(function(j){var K=j.rules,Z=j.href;!K||Array.from(K).forEach(function(k){if(typeof k.style<"u")if(x(l,k.selectorText))z.push(oe(k.selectorText,k.style.cssText));else if($&&k.cssText.match(/^@font-face/)){var J=F(k,Z);J&&Y.push(J)}else ne||z.push(k.cssText)})}),N(Y).then(function(j){return z.join(`
`)+j})},q=function(){if(!navigator.msSaveOrOpenBlob&&!("download"in document.createElement("a")))return{popup:window.open()}};e.prepareSvg=function(u,l,d){C(u);var c=l||{},v=c.left,E=v===void 0?0:v,O=c.top,U=O===void 0?0:O,ne=c.width,oe=c.height,z=c.scale,$=z===void 0?1:z,Y=c.responsive,j=Y===void 0?!1:Y,K=c.excludeCss,Z=K===void 0?!1:K;return A(u).then(function(){var k=u.cloneNode(!0);k.style.backgroundColor=(l||{}).backgroundColor||u.style.backgroundColor;var J=w(u,k,ne,oe),Q=J.width,ee=J.height;if(u.tagName!=="svg")if(u.getBBox){k.getAttribute("transform")!=null&&k.setAttribute("transform",k.getAttribute("transform").replace(/translate\(.*?\)/,""));var Me=document.createElementNS("http://www.w3.org/2000/svg","svg");Me.appendChild(k),k=Me}else{console.error("Attempted to render non-SVG element",u);return}if(k.setAttribute("version","1.1"),k.setAttribute("viewBox",[E,U,Q,ee].join(" ")),k.getAttribute("xmlns")||k.setAttributeNS(n,"xmlns",i),k.getAttribute("xmlns:xlink")||k.setAttributeNS(n,"xmlns:xlink","http://www.w3.org/1999/xlink"),j?(k.removeAttribute("width"),k.removeAttribute("height"),k.setAttribute("preserveAspectRatio","xMinYMin meet")):(k.setAttribute("width",Q*$),k.setAttribute("height",ee*$)),Array.from(k.querySelectorAll("foreignObject > *")).forEach(function(we){we.setAttributeNS(n,"xmlns",we.tagName==="svg"?i:r)}),Z){var De=document.createElement("div");De.appendChild(k);var Re=De.innerHTML;if(typeof d=="function")d(Re,Q,ee);else return{src:Re,width:Q,height:ee}}else return _(u,l).then(function(we){var Le=document.createElement("style");Le.setAttribute("type","text/css"),Le.innerHTML=`<![CDATA[
`+we+`
]]>`;var Ie=document.createElement("defs");Ie.appendChild(Le),k.insertBefore(Ie,k.firstChild);var Pe=document.createElement("div");Pe.appendChild(k);var Ve=Pe.innerHTML.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href');if(typeof d=="function")d(Ve,Q,ee);else return{src:Ve,width:Q,height:ee}})})},e.svgAsDataUri=function(u,l,d){return C(u),e.prepareSvg(u,l).then(function(c){var v=c.src,E=c.width,O=c.height,U="data:image/svg+xml;base64,"+window.btoa(R(o+v));return typeof d=="function"&&d(U,E,O),U})},e.svgAsPngUri=function(u,l,d){C(u);var c=l||{},v=c.encoderType,E=v===void 0?"image/png":v,O=c.encoderOptions,U=O===void 0?.8:O,ne=c.canvg,oe=function($){var Y=$.src,j=$.width,K=$.height,Z=document.createElement("canvas"),k=Z.getContext("2d"),J=window.devicePixelRatio||1;Z.width=j*J,Z.height=K*J,Z.style.width=Z.width+"px",Z.style.height=Z.height+"px",k.setTransform(J,0,0,J,0,0),ne?ne(Z,Y):k.drawImage(Y,0,0);var Q=void 0;try{Q=Z.toDataURL(E,U)}catch(ee){if(typeof SecurityError<"u"&&ee instanceof SecurityError||ee.name==="SecurityError"){console.error("Rendered SVG images cannot be downloaded in this browser.");return}else throw ee}return typeof d=="function"&&d(Q,Z.width,Z.height),Promise.resolve(Q)};return ne?e.prepareSvg(u,l).then(oe):e.svgAsDataUri(u,l).then(function(z){return new Promise(function($,Y){var j=new Image;j.onload=function(){return $(oe({src:j,width:j.width,height:j.height}))},j.onerror=function(){Y(`There was an error loading the data URI as an image on the following SVG
`+window.atob(z.slice(26))+`Open the following link to see browser's diagnosis
`+z)},j.src=z})})},e.download=function(u,l,d){if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(P(l),u);else{var c=document.createElement("a");if("download"in c){c.download=u,c.style.display="none",document.body.appendChild(c);try{var v=P(l),E=URL.createObjectURL(v);c.href=E,c.onclick=function(){return requestAnimationFrame(function(){return URL.revokeObjectURL(E)})}}catch(O){console.error(O),console.warn("Error while getting object URL. Falling back to string URL."),c.href=l}c.click(),document.body.removeChild(c)}else d&&d.popup&&(d.popup.document.title=u,d.popup.location.replace(l))}},e.saveSvg=function(u,l,d){var c=q();return y(u).then(function(v){return e.svgAsDataUri(v,d||{})}).then(function(v){return e.download(l,v,c)})},e.saveSvgAsPng=function(u,l,d){var c=q();return y(u).then(function(v){return e.svgAsPngUri(v,d||{})}).then(function(v){return e.download(l,v,c)})}})()})(rt);async function Ft(t){const e=document.getElementById("sign");await rt.saveSvgAsPng(e,t+".png",{backgroundColor:"white",scale:1.44/(window.devicePixelRatio||1)})}async function Wt(t){const e=document.getElementById("sign"),n=document.createElement("style");n.setAttribute("type","text/css");const r=document.querySelector("link#link-gfonts").sheet.href;n.innerHTML=`@import url('${r}');`,e.appendChild(n);const i=new XMLSerializer().serializeToString(e),o="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(i))),a=t+".svg",f=document.createElement("a");f.setAttribute("href",o),f.setAttribute("download",a),document.body.appendChild(f),f.click(),document.body.removeChild(f),e.removeChild(n)}const{window:jt}=pt;function Zt(t){let e,n,r,i,o,a,f,m,C,y,L,h,M,g,w,R,P,x,F,A,W,N,D,p,_,q,u;return N=new Bt({props:{stopId:t[0]}}),{c(){e=G("main"),n=G("h1"),n.textContent="MUNI Sign",r=V(),i=G("div"),o=G("label"),a=B(`Stop ID:
      `),f=G("input"),m=V(),C=G("input"),L=B(`
    \xA0 \xA0
    `),h=G("input"),g=V(),w=G("input"),P=V(),x=G("input"),A=V(),W=G("div"),ce(N.$$.fragment),D=V(),p=G("p"),p.innerHTML=`You scrolled all the way to the bottom! You can follow me <a href="https://twitter.com/MingweiSamuel" target="_blank">@MingweiSamuel</a>
    on Twitter if you want. Or poke around the
    <a href="https://github.com/MingweiSamuel/muni-sign/" target="_blank">GitHub repository</a>. And maybe
    <a href="https://github.com/MingweiSamuel/muni-sign/issues/new">submit a bug report</a>!`,s(n,"class","no-print"),s(f,"type","text"),C.disabled=y=t[2]||null,s(C,"type","button"),C.value="\u{1F500}",s(C,"title","Use random stop ID."),h.disabled=M=t[2]||null,s(h,"type","button"),h.value="Save PNG",s(h,"title","Save the sign as a PNG image."),w.disabled=R=t[2]||null,s(w,"type","button"),w.value="Save SVG",s(w,"title","Save the sign as a vector graphic. Requires internet access to correctly render fonts."),x.disabled=F=t[2]||null,s(x,"type","button"),x.value="Print",s(x,"title","Print using the system dialog."),s(i,"class","card no-print"),s(W,"class","sign svelte-1otl9ts"),s(p,"class","read-the-docs no-print svelte-1otl9ts")},m(l,d){S(l,e,d),T(e,n),T(e,r),T(e,i),T(i,o),T(o,a),T(o,f),Be(f,t[0]),T(i,m),T(i,C),T(i,L),T(i,h),T(i,g),T(i,w),T(i,P),T(i,x),T(e,A),T(e,W),se(N,W,null),T(e,D),T(e,p),_=!0,q||(u=[fe(jt,"hashchange",t[4]),fe(f,"input",t[5]),fe(C,"click",t[6]),fe(h,"click",t[7]),fe(w,"click",t[8]),fe(x,"click",t[9])],q=!0)},p(l,[d]){d&1&&f.value!==l[0]&&Be(f,l[0]),(!_||d&4&&y!==(y=l[2]||null))&&(C.disabled=y),(!_||d&4&&M!==(M=l[2]||null))&&(h.disabled=M),(!_||d&4&&R!==(R=l[2]||null))&&(w.disabled=R),(!_||d&4&&F!==(F=l[2]||null))&&(x.disabled=F);const c={};d&1&&(c.stopId=l[0]),N.$set(c)},i(l){_||(H(N.$$.fragment,l),_=!0)},o(l){te(N.$$.fragment,l),_=!1},d(l){l&&b(e),ae(N),q=!1,de(u)}}}function qt(t,e,n){let r="";window.location.hash?r=window.location.hash.slice(1):He().then(M=>location.hash="#"+M);let i,o=!1,a=Promise.resolve();const f=()=>window.location.hash&&n(0,r=window.location.hash.slice(1));function m(){r=this.value,n(0,r)}const C=()=>He().then(M=>location.hash="#"+M),y=()=>n(1,a=Ft(r)),L=()=>n(1,a=Wt(r)),h=()=>window.print();return t.$$.update=()=>{t.$$.dirty&9&&(clearTimeout(i),n(3,i=setTimeout(()=>{window.history.pushState(null,null,"#"+r)},3e3))),t.$$.dirty&2&&(n(2,o=!0),a.then(()=>{n(2,o=!1)}))},[r,a,o,i,f,m,C,y,L,h]}class Gt extends he{constructor(e){super(),me(this,e,qt,Zt,Ce,{})}}new Gt({target:document.getElementById("app")});
